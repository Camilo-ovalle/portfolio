---
import esTranslations from "../locales/es.json";
import enTranslations from "../locales/en.json";

const translations = {
  es: esTranslations,
  en: enTranslations,
};

const lang = Astro.url.pathname.startsWith("/en") ? "en" : "es";
const t = translations[lang];
---

<header
  class="fixed top-0 left-0 right-0 z-50 bg-white/70 dark:bg-gray-900/70 backdrop-blur-md"
>
  <div class="container mx-auto px-4">
    <div class="flex items-center justify-between h-16">
      <a
        href=`/${lang}#inicio`
        class="text-2xl font-bold text-gray-900 dark:text-white hover:text-green-500 dark:hover:text-green-400 transition-colors"
      >
        {t.site.name}
      </a>
      <nav class="hidden md:flex items-center space-x-8">
        <a
          href=`/${lang}#tech`
          class="text-gray-600 dark:text-gray-300 hover:text-green-500 dark:hover:text-green-400 transition-colors"
          >{t.header.nav.tech}</a
        >
        <a
          href=`/${lang}#projects`
          class="text-gray-600 dark:text-gray-300 hover:text-green-500 dark:hover:text-green-400 transition-colors"
          >{t.header.nav.projects}</a
        >
        <a
          href=`/${lang}#contact`
          class="text-gray-600 dark:text-gray-300 hover:text-green-500 dark:hover:text-green-400 transition-colors"
          >{t.header.nav.contact}</a
        >

        <div class="flex items-center space-x-2">
          <a
            href="/es"
            class:list={[
              "px-3 py-1 rounded-md text-sm font-medium transition-colors",
              {
                "bg-gray-200 dark:bg-gray-700": lang === "es",
                "hover:bg-gray-200 dark:hover:bg-gray-700": lang !== "es",
              },
            ]}
          >
            ES
          </a>
          <a
            href="/en"
            class:list={[
              "px-3 py-1 rounded-md text-sm font-medium transition-colors",
              {
                "bg-gray-200 dark:bg-gray-700": lang === "en",
                "hover:bg-gray-200 dark:hover:bg-gray-700": lang !== "en",
              },
            ]}
          >
            EN
          </a>
        </div>
      </nav>
    </div>
  </div>
</header>

